(()=>{"use strict";var e={426:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(81),r=t.n(o),i=t(645),a=t.n(i)()(r());a.push([e.id,"* {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n}\n\nbody {\n    font-family: 'Courier New', Courier, monospace;\n    color: white;\n    background-color: rgb(36, 78, 100);\n    display: flex;\n    justify-content: center;\n}\n\n.content {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    position: relative;\n    gap: 3rem;\n}\n\n.title {\n    padding-top: 1em;\n    font-size: 3em;\n    letter-spacing: 10px;\n}\n\n.gameboard-container {\n    display: flex;\n    justify-content: space-evenly;\n    gap: 2rem;\n}\n\n.text-prompt {\n    margin-bottom: 2rem;\n}\n\n#place-ship {\n    color: red;\n}\n\n#player-one-board, #player-two-board {\n    display: grid;\n    grid-template-columns: repeat(10, 45px);\n    border: 1px solid black;\n}\n\n#player-two-board .board-square:not(.miss):not(.hit):hover {\n    filter: opacity(65%);\n    cursor: pointer;\n}\n\n.board-square {\n    height: 45px;\n    width: 45px;\n    border: 1px solid black;\n    background-color: rgb(46, 129, 184);\n}\n\n#new-game-popup {\n    margin-top: 5rem;\n    position: absolute;\n    align-self: center;\n    z-index: 3;\n    top: 20%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n#new-game-popup span {\n    font-size: 30px;\n    font-weight: 600;\n    padding-bottom: 2rem;\n}\n\nbutton#rotate {\n    margin-bottom: 2rem;\n    font-size: 1.5em;\n    font-weight: bold;\n    border: none;\n    border-radius: 5px;\n    padding: 0.5em 2em;\n    cursor: pointer;\n    min-width: 150px;\n}\n\n.visibility {\n    visibility: hidden;\n}\n\n.ship {\n    background-color: rgb(61, 61, 61);\n    z-index: 5;\n}\n\n.hit, .miss {\n    pointer-events: none;\n}\n\n.hit {\n    background-color: rgb(128, 5, 5);\n}\n\n.miss {\n    background-color: rgb(14, 53, 110);\n}\n\n.game-end {\n    pointer-events: none;\n}\n\n.ship-selection {\n    background-color: #425161;\n}\n\n.game-over-popup {\n    position: fixed;\n    min-width: 500px;\n    min-height: 350px;\n    left: 50%;\n    top: 50%;\n    border-radius: 6px;\n    border: 1px solid black;\n    background-color: #6f8aa7;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.15);\n    visibility: hidden;\n    transform: translate(-50%, -50%) scale(0.1);\n    transition: transform 0.4s;\n}\n\n.open-end-game-popup {\n    visibility: visible;\n    transform: translate(-50%, -50%) scale(1);\n}\n\n.filter-opened {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    background: rgba(0, 0, 0, 0.5);\n    z-index: 900;\n}\n\nbutton#replay {\n    margin-bottom: 3em;\n    font-size: 1em;\n    font-weight: bold;\n    border: none;\n    border-radius: 6px;\n    color: white;\n    padding: 30px 90px;\n    cursor: pointer;\n}\n\n#winner {\n    font-size: 2em;\n    margin-bottom: 2em;\n}\n\nbutton {\n    transition: transform 0.3s, box-shadow 0.3s;\n    background-color: #98a7b6;\n}\n\nbutton:hover {\n    transform: scale(1.05);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n}",""]);const s=a},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);o&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),n.push(d))}},n}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=o.base?l[0]+o.base:l[0],d=i[c]||0,u="".concat(c," ").concat(d);i[c]=d+1;var p=t(u),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)n[p].references++,n[p].updater(f);else{var h=r(f,o);o.byIndex=s,n.splice(s,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=t(i[a]);n[s].references--}for(var l=o(e,r),c=0;c<i.length;c++){var d=t(i[c]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}i=l}}},569:e=>{var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={id:o,exports:{}};return e[o](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{var e=t(379),n=t.n(e),o=t(795),r=t.n(o),i=t(569),a=t.n(i),s=t(565),l=t.n(s),c=t(216),d=t.n(c),u=t(589),p=t.n(u),f=t(426),h={};function m(e,n){let t=0;const o=new Set;return{makeMove:e=>{const t=n.getSquare(e);return o.has(t)||(n.receiveHit(e),o.add(t)),t.filled},AIMove:()=>{let e,t=!1;for(;!t&&o.size<100;){const r=Math.floor(100*Math.random()),i=n.getSquareGivenID(r);o.has(i)||(n.receiveHit(n.getCoords(r)),o.add(i),t=!0,e=i)}return e},moves:o,getWins:()=>t,checkWin:()=>!!n.shipsSunk()&&(t++,!0)}}function v(){const e=[],n=[],t=(()=>{const e=[];for(let n=0;n<10;n++)for(let t=0;t<10;t++)e.push(g([n,t],!1));return e})(),o=e=>t.find((n=>n.coords.toString()===e.toString())).filled,r=e=>t.find((n=>n.coords.toString()===e.toString())),i=e=>t.find((n=>n.id.toString()===e.toString())).coords,a=n=>{for(let t=0;t<e.length;t++){const o=e[t],r=o.getLocation();for(let e=0;e<r.length;e++)if(r[e].toString()===n.toString())return o}return null},s=(n,r,i)=>{const a=[];let s=!0;if("vertical"===r){let e=i[0];for(let t=0;t<n;t++){if(e<0||e>9)return null;const n=[e,i[1]];a.push(n),e+=1}}else if("horizontal"===r){let e=i[1];for(let t=0;t<n;t++){if(e<0||e>9)return null;const n=[i[0],e];a.push(n),e+=1}}if(a.forEach((e=>{o(e)&&(s=!1)})),!s)return null;a.forEach((e=>(e=>{t.find((n=>n.coords.toString()===e.toString())).filled=!0})(e)));const l=function(e,n){let t=e,o=!1,r=0;return{getLength:()=>e,getHits:()=>r,getLocation:()=>n,hit:()=>{t-=1,r+=1,t<=0&&(o=!0)},isSunk:()=>o}}(n,a);return e.push(l),l};return{placeAIShips:()=>{const n=[5,4,3,3,2],t=["vertical","horizontal"];for(;e.length<5;){const e=Math.floor(100*Math.random()+100),o=i(e),r=t[Math.floor(Math.random()*t.length)],a=n[Math.floor(Math.random()*n.length)];if(s(a,r,o)){const e=n.indexOf(a);n.splice(e,1)}}},resetShips:()=>{e.length=0},resetBoard:()=>{t.forEach((e=>{e.filled=!1}))},getSquareGivenID:e=>t.find((n=>n.id.toString()===e.toString())),getCoords:i,getShipLocations:()=>{const n=[];return e.forEach((e=>{e.getLocation().forEach((e=>{n.push(r(e).id)}))})),n},board:t,getSquare:r,findShip:a,missedShots:n,allShips:e,shipsSunk:()=>e.every((e=>e.isSunk())),receiveHit:e=>o(e)?(a(e).hit(),r(e).filled):(n.push(r(e)),r(e).filled),placeShip:s}}function g(e,n){return void 0===g.currentID?g.currentID=0:g.currentID++,{id:g.currentID,coords:e,filled:n}}h.styleTagTransform=p(),h.setAttributes=l(),h.insert=a().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=d(),n()(f.Z,h),f.Z&&f.Z.locals&&f.Z.locals;const b=v(),y=v();function x(){return{startGame:()=>{const e=function(){const e=x(),n=document.querySelector("#player-one-board"),t=document.querySelector("#player-two-board"),o=document.querySelector("#new-game-popup"),r=document.querySelector(".gameboard-container"),i=document.querySelector("#rotate");i.value="horizontal";const a=document.querySelector(".game-over-popup"),s=document.querySelector("#filter"),l=document.querySelector("#replay"),c=document.querySelector("#winner"),d=()=>{i.value="horizontal"===i.value?"vertical":"horizontal"},u=()=>{t.classList.toggle("game-end"),(()=>{for(;n.hasChildNodes();)n.removeChild(n.lastChild);for(;t.hasChildNodes();)t.removeChild(t.lastChild);l.removeEventListener("click",u),o.classList.remove("visibility"),t.classList.toggle("game-end"),n.getElementsByClassName.pointerEvents="all",i.value="horizontal",s.classList.toggle("filter-opened"),a.classList.remove("open-end-game-popup")})(),e.startGame()},p=(e,n,t)=>Math.floor(e/t)===Math.floor(n/t),f=(e,n,t)=>e%t==n%t,h=e=>0===e?"Carrier":1===e?"Battleship":2===e?"Destroyer":3===e?"Submarine":4===e?"Patrol Boat":void 0;return{displayNewGame:()=>{r.removeChild(n),r.removeChild(t),o.appendChild(n),n.classList.remove("visibility")},buildBoardsUI:(e,o)=>{for(let t=0;t<e.board.length;t+=1){const o=e.board[t].id,r=document.createElement("div");r.classList.add("board-square"),r.dataset.index=o,n.appendChild(r),n.classList.add("visibility")}for(let e=0;e<o.board.length;e+=1){const n=o.board[e].id,r=document.createElement("div");r.classList.add("board-square"),r.dataset.index=n,t.appendChild(r),t.classList.add("visibility")}},renderMoves:(e,o,r)=>{t.childNodes.forEach((t=>{t.addEventListener("click",(()=>{const i=r.getCoords(t.dataset.index),d=e.makeMove(i);if(!0===d?t.classList.add("hit"):!1===d&&t.classList.add("miss"),e.checkWin())return c.textContent="You Won!",s.classList.toggle("filter-opened"),a.classList.add("open-end-game-popup"),l.addEventListener("click",u),null;const p=o.AIMove();return n.childNodes.forEach((e=>{Number(e.dataset.index)===Number(p.id)&&(p.filled?e.classList.add("hit"):p.filled||e.classList.add("miss"))})),o.checkWin()?(c.textContent="You lost :(",s.classList.toggle("filter-opened"),a.classList.add("open-end-game-popup"),l.addEventListener("click",u),null):void 0}))}))},placeShips:e=>{i.addEventListener("click",d);const a=[5,4,3,3,2];let s=0;const l=n.children,c=document.querySelector("#place-ship");c.textContent=h(s);for(const u of l)u.addEventListener("mouseenter",(e=>{const n=Number(e.target.dataset.index);for(let e=0;e<a[s];e+=1){const t="horizontal"===i.value?n+e:n+10*e;t>=0&&t<100&&!l[t].classList.contains("ship")&&("horizontal"===i.value&&p(n,t,10)||"vertical"===i.value&&f(n,t,10))&&l[t].classList.add("ship-selection")}})),u.addEventListener("mouseleave",(e=>{const n=Number(e.target.dataset.index);for(let e=0;e<a[s];e+=1){const t="horizontal"===i.value?n+e:n+10*e;t>=0&&t<100&&!l[t].classList.contains("ship")&&("horizontal"===i.value&&p(n,t,10)||"vertical"===i.value&&f(n,t,10))&&l[t].classList.remove("ship-selection")}})),u.addEventListener("click",(u=>{const m=Number(u.target.dataset.index),v=e.getCoords(m),g=i.value,b=a[s];if(((e,n,t,o)=>{for(let r=0;r<n;r+=1){const n="horizontal"===t?e+r:e+10*r;if(n<0||n>=100||o[n].classList.contains("ship")||"horizontal"===t&&!p(e,n,10)||"vertical"===t&&!f(e,n,10))return!1}return!0})(m,b,g,l)){e.placeShip(b,g,v);for(let e=0;e<b;e+=1){const n="horizontal"===g?m+e:m+10*e;n>=0&&n<100&&!l[n].classList.contains("ship")&&("horizontal"===g&&p(m,n,10)||"vertical"===g&&f(m,n,10))&&(l[n].classList.add("ship"),l[n].classList.remove("ship-selection"))}if(s===a.length-1)return i.removeEventListener("click",d),o.removeChild(n),o.classList.add("visibility"),r.appendChild(n),r.appendChild(t),n.classList.remove("visibility"),t.classList.remove("visibility"),n.style.pointerEvents="none",null;s+=1,c.textContent=h(s)}}))}}}();b.resetBoard(),b.resetShips(),y.resetBoard(),y.resetShips();const n=m(0,y),t=m(0,b);e.buildBoardsUI(b,y),y.placeAIShips(),e.displayNewGame(),e.placeShips(b),e.renderMoves(n,t,y)}}}x().startGame()})()})();